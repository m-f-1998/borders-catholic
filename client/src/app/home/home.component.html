<app-header currentPage="" />

<section class="header">
  <div class="mbr-overlay" style="opacity: 0.9; background-color: rgb(40, 43, 47);"></div>
  <div class="container">
    <div class="row text-left justify-content-center align-content-around">
      <div class="col-12 col-lg col-md-12 md-pb">
        <div class="text-wrapper">
          <h1 class="mbr-section-title mbr-fonts-style text-left display-1">
            <strong>Ss Mary & Davids</strong>
          </h1>
          <h2 class="mbr-section-subtitle mbr-fonts-style mb-2 text-left display-7">
            <strong>A Roman Catholic Parish in the Scottish Borders</strong>
          </h2>
          <h3 class="mbr-text mbr-fonts-style mb-3 text-left display-7">Hawick; Jedburgh; Kelso</h3>
          <div class="social-list mb-3">
            <a href="https://www.facebook.com/profile.php?id=100079676379609" target="_blank" class="soc-item btn-primary">
              <app-icon icon="facebook" class="text-light" />
            </a>
            <a href="mailto:catholic363@gmail.com" target="_blank" class="soc-item btn-primary">
              <app-icon icon="envelope" class="text-light" />
            </a>
          </div>
          <p class="mbr-text mbr-fonts-style text-left display-7">
            Our world is hurting. We all need healing, yet many of us are separated from the very source of our strength. Jesus Christ invites us to the celebration of the Eucharist, which is the source and summit of our Parish life.
            <br /><br />May God bless you and we hope you will visit one of our churches soon.
          </p>
          <div class="mbr-section-btn mt-4">
            <button class="btn btn-primary display-4" (click)="openNewsletter()" style="border-radius: 100px;">
              @if (loadingNewsletter()) {
                <app-icon icon="spinner" iconAnimation="spin" />
              } @else {
                Access This Weeks Newsletter
              }
            </button>
            <button class="btn btn-primary display-4" (click)="openNewsletterArchive()" style="border-radius: 100px;">
              Access Our Newsletter Archive
            </button>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-12 col-lg-6 image-wrapper">
        <img src="/api/img/highlight.jpg"
          srcset="
              /api/img/highlight.jpg?w=320&f=webp 320w,
              /api/img/highlight.jpg?w=640&f=webp 640w,
              /api/img/highlight.jpg?w=1024&f=webp 1024w
          "
          loading="lazy"
          decoding="async"
          alt="Highlight Image"
          class="w-100"
        />
      </div>
    </div>
  </div>
</section>

<div class="scroll-container">
  @for ( url of images; track $index ) {
    <img src="/api/img/{{url}}?w=640&f=webp"
      srcset="
          /api/img/{{url}}?w=320&f=webp 320w,
          /api/img/{{url}}?w=640&f=webp 640w,
          /api/img/{{url}}?w=1024&f=webp 1024w
      "
      loading="lazy"
      decoding="async"
      alt="Gallery Image {{ $index + 1 }}"
      class="img-expand"
      (click)="expandImage($index)"
    />
  }
</div>

<app-sunday-masses [massTimes]="[
  {
    church: 'Hawick',
    time: 'Sat 5.00pm (Vigil), St Cuthberts Episcopal Church'
  },
  {
    church: 'Jedburgh',
    time: 'Sunday 11.30am'
  },
  {
    church: 'Kelso',
    time: 'Sunday 9.30am'
  }
]" />

@if (mapState().loading) {
  <div class="d-flex justify-content-center flex-column align-items-center my-5">
    <app-icon icon="spinner" iconAnimation="spin" class="text-primary" style="font-size: 3rem;" />
    Map is loading... Please wait.
  </div>
} @else if (mapState().error) {
  <div class="alert alert-danger text-center m-2" role="alert">
    Unable to load the map at this time. Please try again later.
  </div>
} @else {
  <google-map height="500px"  width="100%" mapId="41dbf48a8e04a109" [center]="center" [zoom]="zoom">
    @for (position of markers; track position) {
        <map-advanced-marker
            [position]="position"
        ></map-advanced-marker>
    }
  </google-map>
}

<app-priests [priests]="[
    {
        name: 'Fr Andrew Garden',
        role: 'Parish Priest',
        residence: 'Resident in Jedburgh',
        image: 'priest/priest-1.jpg'
    }
]" />

<app-contact
    id="contact"
    email="catholic363@gmail.com"
    phone="07748994220"
    [address]="['St. Marys & St. Davids, 15 Buccleuch Street, Hawick, TD9 0HH (Temporary Location: St Cuthberts Episcopal Church, Slitrig Cres, Hawick, TD9 0EN)',
    'The Immaculate Conception, 2 Old Bongate, Jedburgh, TD8 6DR',
    'St. Marys, Bowmont St, Kelso TD5 7DZ']"
/>

<app-footer />